(this["webpackJsonpeedo-front"]=this["webpackJsonpeedo-front"]||[]).push([[0],{227:function(e,t,n){},237:function(e,t){},242:function(e,t,n){},371:function(e,t){},373:function(e,t){},382:function(e,t,n){},383:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(27),i=n.n(a),s=(n(227),n(53)),o=n(33),u=n(387),l=n(25),d=n(17),j=n(127),b=n(16),O=n.n(b),p=n(24);console.log("process.env.REACT_APP_ENV:","staging");var f={ApiAddr:"https://bobine-api.hublabs.site",WsAddr:"wss://bobine-api.hublabs.site",PaypalClientId:"AUjLPNr5GjtC_btsDL1wjKeDMr07ZHFJvV8Om2yMsUvrUC7ONysMPVP2qxS62_O0PH-YN4dMa8CH3zKs"},h=function(e){return f.ApiAddr+e},m=Intl.DateTimeFormat().resolvedOptions().timeZone,x=Object(j.b)({headers:{"Content-Type":"application/json","X-Timezone":m}}),v={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return x(h(e),{method:"GET",params:t})},post:function(e,t){return x(h(e),{method:"POST",data:t})},put:function(e,t){return x(h(e),{method:"PUT",data:t})},delete:function(e,t){return x(h(e),{method:"DELETE",data:t})}};function g(){return(g=Object(p.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/v1/users/"+t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=n(3),w=Object(r.createContext)(null),k=function(){var e=Object(r.useContext)(w);if(!e)throw new Error("useCurrentUser must be used within the CurrentUserProvider");return e},S=function(e){var t=e.children,n=Object(r.useState)(),c=Object(d.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)(),o=Object(d.a)(s,2),u=o[0],b=o[1];Object(r.useEffect)((function(){var e=window.localStorage.getItem("token");e&&b(e);var t=window.localStorage.getItem("user");t&&i(JSON.parse(t))}),[]);var O=Object(r.useCallback)((function(e,t){return function(e,t){return g.apply(this,arguments)}(e,t).then((function(e){var t;if(!e.success)throw Error(null===(t=e.error)||void 0===t?void 0:t.message);window.localStorage.setItem("user",JSON.stringify(e.data.user)),window.localStorage.setItem("token",e.data.token),i(e.data.user),b(e.data.token)}))}),[]),p=Object(r.useCallback)((function(){return i(void 0),b(void 0),window.localStorage.removeItem("user"),window.localStorage.removeItem("token"),Promise.resolve()}),[]);return j.a.interceptors.request.use((function(e,t){return{url:e,options:Object(l.a)(Object(l.a)({},t),{},{headers:Object(l.a)(Object(l.a)({},t.headers),{},{Authorization:"Bearer ".concat(u)})})}})),Object(y.jsx)(w.Provider,{value:{user:a,token:u,signIn:O,signOut:p},children:t})},I=n(109),C=n(59),M=n(401),T=n(403),E=n(57),A=n(398),z=n(396),P=n(408),D=n(409),F=n(84),L=n(393),Y=n(390),N=n(397),R=n(402),B=n(78),H=n(407),V=n(219),U=n(48),W=n.n(U);n(242);function _(e){return q.apply(this,arguments)}function q(){return(q=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/v1/profiles",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return K.apply(this,arguments)}function K(){return(K=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/v1/profiles/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/v1/profiles",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){return X.apply(this,arguments)}function X(){return(X=Object(p.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/v1/profiles/".concat(t,"/meetings"),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/v1/profiles/".concat(t,"/meetings"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=L.a.Step,ne={labelCol:{span:5},wrapperCol:{span:16}},re={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:5}}},ce=function(e){var t=Object(r.useState)(0),n=Object(d.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)(""),s=Object(d.a)(i,2),o=s[0],u=s[1],j=Object(r.useState)([]),b=Object(d.a)(j,2),f=b[0],h=b[1],m=Object(r.useState)(""),x=Object(d.a)(m,2),v=x[0],g=x[1],w=Object(r.useState)([]),k=Object(d.a)(w,2),S=k[0],I=k[1],C=Object(r.useState)(),M=Object(d.a)(C,2),T=M[0],A=M[1],P=Object(r.useState)(),D=Object(d.a)(P,2),U=D[0],_=D[1],q=Object(r.useState)(),J=Object(d.a)(q,2),K=J[0],Z=J[1],Q=[{title:"\uae30\ubcf8 \uc815\ubcf4 \ub4f1\ub85d",content:Object(y.jsxs)(Y.a,Object(l.a)(Object(l.a)({},ne),{},{children:[Object(y.jsx)(Y.a.Item,{label:"\uc81c\ubaa9",children:Object(y.jsx)(N.a,{value:o,onChange:function(e){return u(e.target.value)}})}),Object(y.jsx)(Y.a.Item,{label:"\ub0b4\uc6a9",children:Object(y.jsx)(N.a.TextArea,{value:v,onChange:function(e){return g(e.target.value)}})}),Object(y.jsx)(Y.a.List,{name:"names",initialValue:[{}],children:function(e,t){var n=t.add,c=t.remove;return Object(y.jsxs)(y.Fragment,{children:[e.map((function(t,n){return Object(r.createElement)(Y.a.Item,Object(l.a)(Object(l.a)({},0===n?ne:re),{},{label:0===n?"\uc774\ubbf8\uc9c0":"",key:t.key}),Object(y.jsx)(Y.a.Item,{noStyle:!0,children:Object(y.jsx)(N.a,{style:{width:"89%"},onChange:function(e){console.log(t);var r=Object(F.a)(f);r.splice(n,1,e.target.value),h(r)}})}),e.length>1?Object(y.jsx)(H.a,{className:"dynamic-delete-button",onClick:function(){var e=Object(F.a)(f);e.splice(n,1),h(e),c(t.name)}}):null)})),Object(y.jsx)(Y.a.Item,Object(l.a)(Object(l.a)({},re),{},{children:Object(y.jsx)(E.a,{type:"dashed",onClick:function(){var e=f;e.push(""),h(e),n()},style:{width:"90%"},icon:Object(y.jsx)(V.a,{}),children:"Add"})}))]})}})]}))},{title:"\uc2a4\ucf00\uc904",content:Object(y.jsxs)(Y.a,Object(l.a)(Object(l.a)({},ne),{},{children:[Object(y.jsx)(Y.a.Item,{label:"\uac00\ub2a5\ud55c \uc694\uc77c",children:Object(y.jsxs)(R.a.Group,{onChange:function(e){return I(e)},children:[Object(y.jsx)(R.a,{value:0,children:"\uc77c "}),Object(y.jsx)(R.a,{value:1,children:"\uc6d4 "}),Object(y.jsx)(R.a,{value:2,children:"\ud654 "}),Object(y.jsx)(R.a,{value:3,children:"\uc218 "}),Object(y.jsx)(R.a,{value:4,children:"\ubaa9 "}),Object(y.jsx)(R.a,{value:5,children:"\uae08 "}),Object(y.jsx)(R.a,{value:6,children:"\ud1a0 "})]})}),Object(y.jsxs)(Y.a.Item,{label:"\uac00\ub2a5\ud55c \uc2dc\uac04",children:[Object(y.jsx)(B.a,{style:{width:90},onSelect:function(e){return A(e)},children:[{hour:0,minute:0},{hour:0,minute:30},{hour:1,minute:0},{hour:1,minute:30},{hour:2,minute:0},{hour:2,minute:30},{hour:3,minute:0},{hour:3,minute:30},{hour:4,minute:0},{hour:4,minute:30},{hour:5,minute:0},{hour:5,minute:30},{hour:6,minute:0},{hour:6,minute:30},{hour:7,minute:0},{hour:7,minute:30},{hour:8,minute:0},{hour:8,minute:30},{hour:9,minute:0},{hour:9,minute:30},{hour:10,minute:0},{hour:10,minute:30},{hour:11,minute:0},{hour:11,minute:30},{hour:12,minute:0},{hour:12,minute:30},{hour:13,minute:0},{hour:13,minute:30},{hour:14,minute:0},{hour:14,minute:30},{hour:15,minute:0},{hour:15,minute:30},{hour:16,minute:0},{hour:16,minute:30},{hour:17,minute:0},{hour:17,minute:30},{hour:18,minute:0},{hour:18,minute:30},{hour:19,minute:0},{hour:19,minute:30},{hour:20,minute:0},{hour:20,minute:30},{hour:21,minute:0},{hour:21,minute:30},{hour:22,minute:0},{hour:22,minute:30},{hour:23,minute:0}].map((function(e){return Object(y.jsx)(B.a.Option,{value:"".concat(e.hour,":").concat(e.minute,":00"),children:"".concat(("0"+e.hour).slice(-2),":").concat(("0"+e.minute).slice(-2))},"".concat(e.hour,":").concat(e.minute,":00"))}))})," ","\ubd80\ud130"," ",Object(y.jsxs)(B.a,{style:{width:90},onSelect:function(e){return _(e)},children:[Object(y.jsx)(B.a.Option,{value:1,children:"1\uc2dc\uac04"}),Object(y.jsx)(B.a.Option,{value:2,children:"2\uc2dc\uac04"}),Object(y.jsx)(B.a.Option,{value:3,children:"3\uc2dc\uac04"}),Object(y.jsx)(B.a.Option,{value:4,children:"4\uc2dc\uac04"}),Object(y.jsx)(B.a.Option,{value:5,children:"5\uc2dc\uac04"}),Object(y.jsx)(B.a.Option,{value:6,children:"6\uc2dc\uac04"}),Object(y.jsx)(B.a.Option,{value:7,children:"7\uc2dc\uac04"}),Object(y.jsx)(B.a.Option,{value:8,children:"8\uc2dc\uac04"}),Object(y.jsx)(B.a.Option,{value:9,children:"9\uc2dc\uac04"}),Object(y.jsx)(B.a.Option,{value:10,children:"10\uc2dc\uac04"})]})]})]}))},{title:"\uac00\uaca9",content:Object(y.jsx)(Y.a,Object(l.a)(Object(l.a)({},ne),{},{children:Object(y.jsxs)(Y.a.Item,{label:"\uac00\uaca9",children:[Object(y.jsx)(N.a,{value:K,style:{width:100},onChange:function(e){return Z(e.target.value)}})," ","\uc6d0 / 1\uc2dc\uac04"]})}))}],X=function(){var t=Object(p.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={title:o,content:v,images:f,priceKrw:parseInt(K),schedules:S.map((function(e){var t=W()("2006-01-01 "+T,"YYYY-MM-DD H:m:ss").add(parseInt(e),"day"),n=t.subtract(t.utcOffset(),"minute"),r=n.set("hour",0).set("minute",0).set("second",0).set("milliseconds",0);return{weekday:n.day(),startTimestamp:n.unix()-r.unix(),duration:60*parseInt(U)*60}}))},t.next=3,G(n);case 3:if(t.sent.success){t.next=6;break}return t.abrupt("return");case 6:e.onFinish(!0);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(y.jsxs)(z.a,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\ud638\uc2a4\ud2b8 \uc2e0\uccad",visible:e.visible,footer:Object(y.jsxs)(y.Fragment,{children:[c>0&&Object(y.jsx)(E.a,{style:{margin:"0 8px"},onClick:function(){a(c-1)},children:"\uc774\uc804"}),c<Q.length-1&&Object(y.jsx)(E.a,{type:"primary",onClick:function(){a(c+1)},children:"\ub2e4\uc74c"}),c===Q.length-1&&Object(y.jsx)(E.a,{type:"primary",onClick:X,children:"\uc2e0\uccad"})]}),onCancel:function(){return e.onFinish(!1)},children:[Object(y.jsx)(L.a,{current:c,children:Q.map((function(e){return Object(y.jsx)(te,{title:e.title},e.title)}))}),Object(y.jsx)("br",{}),Q[c].content]})},ae=n(218),ie=n(202),se=function(e){var t=e.onSuccess,n=void 0===t?null:t,r=k().signIn,c=function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.googleId){e.next=5;break}return console.log(t),ae.b.error("\uad6c\uae00 \ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),n&&n(!1),e.abrupt("return");case 5:try{r("google",{googleId:t.googleId,accessToken:t.accessToken,tokenObj:t.tokenObj,tokenId:t.tokenId,profileObj:t.profileObj}),n&&n(!0)}catch(c){ae.b.error(c),n&&n(!1)}case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)("div",{style:{textAlign:"center"},children:Object(y.jsx)(ie.GoogleLogin,{clientId:"636296155193-a9abes4mc1p81752l116qkr9do6oev3f.apps.googleusercontent.com",buttonText:"\uad6c\uae00\ub85c \ub85c\uadf8\uc778\ud558\uae30",onSuccess:c,onFailure:c})})},oe=function(e){var t=e.onSuccess;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(se,{onSuccess:t})})},ue=[{key:"/",icon:Object(y.jsx)(P.a,{style:{width:"100%",fontSize:"180%"}})},{key:"/meeting",icon:Object(y.jsx)(D.a,{style:{width:"100%",fontSize:"180%"}})}],le=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(d.a)(a,2),u=i[0],l=i[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),O=b[0],p=b[1],f=k(),h=f.user,m=f.signOut,x=Object(o.f)(),v=Object(o.g)();Object(r.useEffect)((function(){v.pathname.startsWith("/meeting")?c("/meeting"):c("/")}),[]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(I.a,{children:[Object(y.jsx)(C.a,{span:22,offset:1,children:Object(y.jsx)(M.a,{mode:"horizontal",selectedKeys:[n],onSelect:function(e){return c(e.key)},style:{textAlign:"center"},children:ue.map((function(e){return Object(y.jsx)(M.a.Item,{style:{width:100},children:Object(y.jsx)(s.b,{to:e.key,children:e.icon})},e.key)}))})}),Object(y.jsx)(C.a,{span:1,children:Object(y.jsx)("div",{style:{marginTop:"7px",marginLeft:"-20px"},children:h?Object(y.jsx)(T.a,{overlay:Object(y.jsxs)(M.a,{children:[Object(y.jsx)(M.a.Item,{children:Object(y.jsx)(E.a,{type:"text",onClick:function(){return l(!0)},children:"\ud638\uc2a4\ud2b8 \uc2e0\uccad"})},"0"),Object(y.jsx)(M.a.Item,{children:Object(y.jsx)(E.a,{type:"text",onClick:function(){return x.push("/mine")},children:"\ub0b4 \ud398\uc774\uc9c0"})},"1"),Object(y.jsx)(M.a.Item,{children:Object(y.jsx)("a",{href:"/admin/",target:"_blank",style:{marginLeft:"4px"},children:"\uad00\ub9ac\uc790"})},"2"),Object(y.jsx)(M.a.Divider,{}),Object(y.jsx)(M.a.Item,{children:Object(y.jsx)(E.a,{type:"text",onClick:function(){m()},children:"\ub85c\uadf8\uc544\uc6c3"})},"3")]}),trigger:["click"],children:Object(y.jsx)(A.a,{src:h.avatarUrl})}):Object(y.jsx)(E.a,{type:"link",style:{marginTop:"2px",marginLeft:"-25px"},onClick:function(){return p(!0)},children:"\ub85c\uadf8\uc778"})})})]}),Object(y.jsx)(ce,{visible:u&&!O,onFinish:function(e){l(!1),e&&x.push("/")}}),Object(y.jsx)(z.a,{title:"\uba3c\uc800 \ub85c\uadf8\uc778\uc744 \ud574 \uc8fc\uc138\uc694",visible:O,onCancel:function(){return p(!1)},cancelButtonProps:{style:{display:"none"}},okButtonProps:{style:{display:"none"}},children:Object(y.jsx)(oe,{onSuccess:function(e){p(!1)}})})]})},de=n(406),je=n(389),be=n(392),Oe=n(410),pe=n(411),fe=n(394),he=n(405);function me(e){switch(e){case-1:return"\ud1a0\uc694\uc77c";case 0:return"\uc77c\uc694\uc77c";case 1:return"\uc6d4\uc694\uc77c";case 2:return"\ud654\uc694\uc77c";case 3:return"\uc218\uc694\uc77c";case 4:return"\ubaa9\uc694\uc77c";case 5:return"\uae08\uc694\uc77c";case 6:return"\ud1a0\uc694\uc77c";default:return""}}function xe(e){var t=Math.floor(e/3600),n=e/60%60,r="";return t>0&&(r="".concat(t," \uc2dc\uac04 ")),n>0&&(r+="".concat(n," \ubd84")),r}var ve=function(e){var t,n=e.profile;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(fe.b.Item.Meta,{avatar:Object(y.jsx)(A.a,{size:64,src:n.avatarUrl}),description:null===(t=n.schedules)||void 0===t?void 0:t.map((function(e){return Object(y.jsxs)("p",{children:[Object(y.jsx)(he.a,{children:me(e.localWeekday)}),"".concat(e.localStartTime," ~ ").concat(e.localEndTime)]},e.id)}))})})},ge=function(e){return Object(y.jsxs)(de.b,{children:[c.a.createElement(e.icon),e.text]})},ye=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(d.a)(a,2),l=(i[0],i[1]),j=Object(r.useState)(0),b=Object(d.a)(j,2),f=b[0],h=b[1],m=Object(r.useState)(!0),x=Object(d.a)(m,2),v=(x[0],x[1]),g=Object(r.useState)(!1),w=Object(d.a)(g,2),k=(w[0],w[1]),S=Object(o.g)(),M=Object(o.f)();Object(r.useEffect)((function(){T()}),[]);var T=function(){var e=Object(p.a)(O.a.mark((function e(){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),new URLSearchParams(S.search).get("q")||"",t=10,e.next=5,_({limit:t,offset:f});case 5:if(r=e.sent,v(!1),k(!1),r&&r.success){e.next=10;break}return e.abrupt("return");case 10:r.data&&r.data.items&&(c(n.concat(r.data.items)),l(r.data.total>f+t)),h(f+t);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(u.a.Content,{className:"center",children:Object(y.jsx)(I.a,{gutter:16,children:n.map((function(e){return Object(y.jsx)(C.a,{sm:24,md:12,children:Object(y.jsxs)(je.a,{onClick:function(){return M.push("/profile/".concat(e.id))},hoverable:!0,style:{maxWidth:480,marginBottom:16},cover:Object(y.jsx)("img",{alt:"main",src:e.mainImage}),actions:[Object(y.jsx)(ge,{icon:Oe.a,text:10},"likes"),Object(y.jsx)(ge,{icon:pe.a,text:20},"comments"),Object(y.jsx)(E.a,{children:Object(y.jsx)(s.b,{to:"/profile/".concat(e.id),children:"\uc790\uc138\ud788 \ubcf4\uae30"})},"go")],children:[Object(y.jsx)(ve,{profile:e}),Object(y.jsx)(be.a.Title,{level:5,style:{color:"#F08080"},children:e.name}),Object(y.jsx)(je.a.Meta,{title:e.title,description:e.subTitle})]})},e.id)}))})})},we=n(391),ke=n(400),Se=n(404),Ie=n(220),Ce=n(86),Me=n(221),Te=n(68),Ee=n(206),Ae=n.n(Ee),ze=n(211),Pe=(n(384),Object(ze.a)(Ae.a)),De=function(e){var t=e.localDate,n=e.availables,c=e.onStartTimeChanged,a=e.onDurationChanged,i=Object(r.useState)(),s=Object(d.a)(i,2),o=s[0],u=s[1],l=Object(r.useState)(),j=Object(d.a)(l,2),b=j[0],O=j[1],p=Object(r.useState)(0),f=Object(d.a)(p,2),h=f[0],m=f[1];return Object(r.useEffect)((function(){u(void 0),O(void 0),m(0)}),[t]),Object(r.useEffect)((function(){if(o){var e=W()("".concat(t," ").concat(o.localTime),"YYYY-MM-DD HH:mm");if(o.isNextDay&&(e=e.add(1,"day")),h>0){var r,a=o.timestamp+h,i=n[n.length-1].end;if(a<=i.timestamp)O(null===(r=n.find((function(e){return e.end.timestamp===a})))||void 0===r?void 0:r.end);else O(i),m(i.timestamp-o.timestamp)}c&&c(e.unix())}}),[o]),Object(r.useEffect)((function(){if(b&&o){var e=b.timestamp-o.timestamp;h!==e&&m(e)}}),[b]),Object(r.useEffect)((function(){a&&a(h)}),[h]),n&&0!==n.length?Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(Y.a.Item,{label:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("span",{style:{marginRight:"65px"},children:"\uc6d0\ud558\ub294 \uc2dc\uac04"}),h>0&&Object(y.jsxs)(he.a,{color:"volcano",children:[xe(h)," "]})]}),children:[Object(y.jsx)(B.a,{style:{width:90},value:null===o||void 0===o?void 0:o.timestamp,onSelect:function(e){var t;return u(null===(t=n.find((function(t){return t.start.timestamp===e})))||void 0===t?void 0:t.start)},children:n.map((function(e){return Object(y.jsx)(B.a.Option,{value:e.start.timestamp,children:e.start.localTime},e.start.timestamp)}))}),"\xa0 \ubd80\ud130 \xa0",Object(y.jsx)(B.a,{style:{width:90},value:null===b||void 0===b?void 0:b.timestamp,onSelect:function(e){var t;return O(null===(t=n.find((function(t){return t.end.timestamp===e})))||void 0===t?void 0:t.end)},children:n.map((function(e){return Object(y.jsx)(B.a.Option,{value:e.end.timestamp,children:e.end.localTime},e.end.timestamp)}))}),"\xa0\uae4c\uc9c0"]})}):Object(y.jsx)(y.Fragment,{})},Fe=function(e){var t=e.profile,n=e.meetings,c=e.onSuccess,a=Object(r.useState)(),i=Object(d.a)(a,2),s=i[0],o=i[1],u=Object(r.useState)(0),l=Object(d.a)(u,2),j=l[0],b=l[1],f=Object(r.useState)(0),h=Object(d.a)(f,2),m=h[0],x=h[1],v=Object(r.useState)(),g=Object(d.a)(v,2),w=g[0],S=g[1],I=Object(r.useState)(!1),C=Object(d.a)(I,2),M=C[0],T=C[1],A=k().user;if(Object(r.useEffect)((function(){b(0),x(0)}),[s]),Object(r.useEffect)((function(){if(s&&j>0&&m>0&&n)for(var e=0;e<n.length;e++)if(P(n[e]))return void S("\ubbf8\ud305 \uc2dc\uac04\uc774 \uacb9\uce69\ub2c8\ub2e4. \ub2e4\ub978 \uc2dc\uac04\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694");S(void 0)}),[s,j,m]),!t)return Object(y.jsx)(y.Fragment,{});var P=function(e){var t=e.startAt,n=t+e.duration;return(t>=j&&t<j+m||j>=t&&j<n||j+m>t&&j+m<=n)&&(console.log(e,j,m),!0)},D=function(){var e=Object(p.a)(O.a.mark((function e(n){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=3;break}return T(!0),e.abrupt("return",!1);case 3:if(s&&j&&m){e.next=6;break}return ae.b.error("\ubbf8\ud305 \ub0a0\uc9dc\uc640 \uc2dc\uac04\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694"),e.abrupt("return",!1);case 6:return r=ae.b.loading("\ucc98\ub9ac\uc911"),e.prev=7,e.next=10,Q(t.id,{localStartDate:s.format("YYYY-MM-DD"),startTimestamp:j,duration:m});case 10:if(a=e.sent){e.next=13;break}return e.abrupt("return",!1);case 13:if(!a||!a.success){e.next=18;break}return ae.b.success("\uc131\uacf5"),c(!0),o(void 0),b(0),x(0),e.abrupt("return",!0);case 18:return e.prev=18,r(),e.finish(18);case 21:return e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[7,,18,21]])})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var n;return e<W()().endOf("day")||!!t.schedules&&(null===(n=t.schedules)||void 0===n?void 0:n.findIndex((function(t){return t.localWeekday===e.day()})))<0};return Object(y.jsxs)(y.Fragment,{children:[t.schedules&&Object(y.jsx)(Pe,{fullscreen:!1,disabledDate:F,onSelect:function(e){F(e)?o(void 0):o(e)},headerRender:function(e){var t=e.value,n=e.onChange,r=t.clone();return Object(y.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[Object(y.jsx)(E.a,{type:"text",size:"small",icon:Object(y.jsx)(Ie.a,{}),style:{float:"left"},onClick:function(){n(r.subtract(1,"year"))}}),Object(y.jsx)(E.a,{type:"text",size:"small",icon:Object(y.jsx)(Ce.a,{}),style:{float:"left"},onClick:function(){n(r.subtract(1,"month"))}}),Object(y.jsx)(be.a.Title,{style:{display:"inline-block"},level:5,children:t.format("YYYY\ub144 MM\uc6d4")}),Object(y.jsx)(E.a,{type:"text",size:"small",icon:Object(y.jsx)(Me.a,{}),style:{float:"right"},onClick:function(){n(r.add(1,"year"))}}),Object(y.jsx)(E.a,{type:"text",size:"small",icon:Object(y.jsx)(Te.a,{}),style:{float:"right"},onClick:function(){n(r.add(1,"month"))}})]})}}),Object(y.jsx)("br",{}),s?Object(y.jsx)(Se.a,{message:"".concat(null===s||void 0===s?void 0:s.format("YYYY-MM-DD")," ").concat(me(null===s||void 0===s?void 0:s.day())),type:"success",showIcon:!0}):Object(y.jsx)(Se.a,{message:"\uc6d0\ud558\ub294 \ub0a0\uc9dc\ub97c \uc120\ud0dd\ud558\uc138\uc694",type:"info",showIcon:!0}),Object(y.jsx)("br",{}),s&&Object(y.jsxs)(Y.a,{layout:"vertical",onFinish:D,children:[Object(y.jsx)(De,{localDate:s.format("YYYY-MM-DD"),availables:function(){var e;if(!s)return[];if(!t||!t.schedules)return[];var n=null===(e=t.schedules.find((function(e){return e.localWeekday===s.day()})))||void 0===e?void 0:e.availablTimePeriods;if(!n)return[];for(var r=[],c=0;c<n.length-1;c++)r.push({start:n[c],end:n[c+1]});return r}(),onStartTimeChanged:function(e){return b(e)},onDurationChanged:function(e){return x(e)}}),Object(y.jsx)(Y.a.Item,{colon:!1,children:Object(y.jsx)(E.a,{type:"primary",htmlType:"submit",style:{width:"100%"},disabled:void 0!==w||0===j||m<=0,children:"\uc2e0\uccad"})})]}),w&&Object(y.jsx)(Se.a,{message:w,type:"error"}),Object(y.jsx)(z.a,{title:"\uba3c\uc800 \ub85c\uadf8\uc778\uc744 \ud574 \uc8fc\uc138\uc694",visible:M,onCancel:function(){T(!1)},cancelButtonProps:{style:{display:"none"}},okButtonProps:{style:{display:"none"}},children:Object(y.jsx)(oe,{onSuccess:function(e){T(!1),e&&(D(null),window.location.reload())}})})]})},Le=function(){var e,t=Object(r.useState)({}),n=Object(d.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)([]),s=Object(d.a)(i,2),l=s[0],j=s[1],b=Object(o.h)().id;Object(r.useEffect)((function(){Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(b);case 2:(t=e.sent).success&&a(t.data);case 4:case"end":return e.stop()}}),e)})))(),Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(b);case 2:(t=e.sent).success&&j(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]);var f=l&&Object.entries(null===l||void 0===l?void 0:l.filter((function(e){return W.a.unix(e.startAt)>=W()()})).reduce((function(e,t){var n=W.a.unix(t.startAt),r=n.format("YYYY\ub144 MM\uc6d4 DD\uc77c ")+me(n.day());return void 0===e[r]&&(e[r]=[]),e[r].push({time:n.format("HH:mm"),duration:xe(t.duration)}),e}),{})).map((function(e){return{date:e[0],times:e[1]}}));return Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{style:{position:"relative",backgroundImage:"url(".concat(c.mainImage,")"),height:"100vh",backgroundSize:"cover"},children:Object(y.jsxs)("div",{style:{position:"absolute",top:"10%",left:"5%",zIndex:1},children:[Object(y.jsx)(be.a.Title,{level:3,children:c.title}),Object(y.jsx)(be.a.Title,{level:4,type:"secondary",children:c.subTitle}),Object(y.jsx)(be.a.Title,{level:2,style:{color:"#F08080"},children:c.name})]})}),Object(y.jsxs)(u.a.Content,{className:"center",style:{marginTop:"-151px"},children:[Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsxs)(I.a,{gutter:12,children:[Object(y.jsxs)(C.a,{sm:24,md:15,children:[Object(y.jsx)(je.a,{style:{marginBottom:12},children:Object(y.jsx)("div",{style:{maxWidth:"640px"},dangerouslySetInnerHTML:{__html:c.introduction}})}),Object(y.jsx)(je.a,{style:{marginBottom:12},children:Object(y.jsx)(we.a.PreviewGroup,{children:null===(e=c.images)||void 0===e?void 0:e.map((function(e){return Object(y.jsx)(we.a,{width:285,src:e,style:{paddingRight:"3px",paddingLeft:"3px"}},e)}))})}),Object(y.jsx)(je.a,{title:"\ub098\ub20c \uc218 \uc788\ub294 \uc774\uc57c\uae30",style:{marginBottom:12},children:Object(y.jsx)("ul",{children:c.points&&c.points.map((function(e,t){return Object(y.jsx)("li",{children:e.value},t)}))})}),Object(y.jsx)(je.a,{title:"\uc774\ub7f0 \uac8c\uc2a4\ud2b8\ub4e4\uc758 \ubc29\ubb38\uc744 \uae30\ub2e4\ub824\uc694",style:{marginBottom:12},children:Object(y.jsx)("ul",{children:c.targets&&c.targets.map((function(e,t){return Object(y.jsx)("li",{children:e.value},t)}))})}),Object(y.jsx)(je.a,{title:"\uc774\ub825",style:{marginBottom:12},children:Object(y.jsx)("ul",{children:c.experiences&&c.experiences.map((function(e){return Object(y.jsx)("li",{children:Object(y.jsxs)("dl",{children:[Object(y.jsx)("dt",{children:e.name}),e.history.map((function(e,t){return Object(y.jsxs)("dd",{children:[Object(y.jsx)(he.a,{children:e.year}),e.value]},t)}))]})},e.name)}))})})]}),Object(y.jsxs)(C.a,{sm:24,md:8,children:[Object(y.jsxs)(je.a,{title:Object(y.jsx)(ve,{profile:c}),style:{marginBottom:12},children:[Object(y.jsx)(be.a.Title,{level:5,children:"\ub9cc\ub0a8 \uc2e0\uccad"}),Object(y.jsx)(Fe,{profile:c,meetings:l,onSuccess:function(){var e=Object(p.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$(b);case 4:(n=e.sent).success&&j(n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),Object(y.jsx)(je.a,{title:"\uc608\uc815\ub41c \ub9cc\ub0a8",style:{marginBottom:12},children:f&&f.length?f.map((function(e){return Object(y.jsx)(fe.b,{style:{width:"160px"},header:e.date,dataSource:e.times,renderItem:function(e){return Object(y.jsxs)(fe.b.Item,{children:[Object(y.jsx)(ke.a,{color:"blue",text:e.time}),"\xa0\xa0\xa0",e.duration]})}},e.date)})):"\uc5c6\uc74c"})]})]})]})]})},Ye=n(395);function Ne(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function Re(e){return Be.apply(this,arguments)}function Be(){return(Be=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/v1/meetings",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/v1/meetings/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ue=n(63),We=n(104);function _e(){return qe.apply(this,arguments)}function qe(){return(qe=Object(p.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/v1/orders/prepare");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("/v1/orders/pre",{meetingIds:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t,n,r){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(p.a)(O.a.mark((function e(t,n,r,c){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.put("/v1/orders/pre/"+t,{payerId:n,orderId:r,orderInfo:c});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qe,Xe=n(208),$e=n(209),et=n(222),tt=n(214),nt=n(210),rt=n.n(nt),ct=n(203),at=null,it=function(e){Object(et.a)(n,e);var t=Object(tt.a)(n);function n(e){var r;return Object(Xe.a)(this,n),(r=t.call(this,e)).createOrder=function(e,t){var n=r.props.preOrder;return t.order.create({purchase_units:[{reference_id:"".concat(n.id),description:n.description,amount:{currency_code:"USD",value:n.payAmountKrw}}]})},r.onApprove=function(e,t){t.order.capture().then((function(t){r.props.onPaySuccess&&r.props.onPaySuccess(e.payerID,e.orderID,Object(l.a)({},t)),r.setState({showButtons:!1,paid:!0})}))},r.state={showButtons:!1,loading:!0,paid:!1},window.React=c.a,window.ReactDOM=i.a,r}return Object($e.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isScriptLoaded,n=e.isScriptLoadSucceed;t&&n&&(at=window.paypal.Buttons.driver("react",{React:c.a,ReactDOM:i.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,n=e.isScriptLoadSucceed;!this.state.showButtons&&!this.props.isScriptLoaded&&t&&n&&(at=window.paypal.Buttons.driver("react",{React:c.a,ReactDOM:i.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.showButtons,r=t.loading,c=t.paid;return Object(y.jsxs)("div",{className:"main",children:[r&&Object(y.jsx)(ct.a,{}),n&&Object(y.jsx)(at,{createOrder:function(t,n){return e.createOrder(t,n)},onApprove:function(t,n){return e.onApprove(t,n)}}),c&&"\uacb0\uc81c\uc644\ub8cc"]})}}]),n}(c.a.Component),st=rt()("https://www.paypal.com/sdk/js?client-id=".concat(f.PaypalClientId))(it),ot=n(399),ut=function(e){var t=e.preOrder,n=Object(r.useState)(),c=Object(d.a)(n,2),a=c[0],i=c[1],s=function(){var e=Object(p.a)(O.a.mark((function e(n,r,c){var a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(t.id,n,r,c);case 2:(a=e.sent).success?(ae.b.success("\uacb0\uc81c \uc131\uacf5"),i(a.data.preOrder)):ae.b.error(null===(s=a.error)||void 0===s?void 0:s.message);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return a?a?Object(y.jsx)(ot.a,{status:"success",title:"\uacb0\uc81c\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",subTitle:Object(y.jsxs)(y.Fragment,{children:["\ud398\uc774\ud314 \uc8fc\ubb38 \ubc88\ud638: ",a.paypalOrderInfo.id," ",Object(y.jsx)("br",{}),a.paypalOrderInfo.payer.email_address," ",Object(y.jsx)("br",{}),a.paypalOrderInfo.payer.name.given_name," ",a.paypalOrderInfo.payer.name.surname]}),extra:[Object(y.jsx)(E.a,{type:"primary",size:"large",onClick:function(){return window.location.reload()},children:"\ud655\uc778\ud588\uc2b5\ub2c8\ub2e4"},"confirm")]}):Object(y.jsx)(y.Fragment,{}):Object(y.jsx)(st,{preOrder:t,onPaySuccess:s})},lt=function(){var e=Object(r.useState)(),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(),i=Object(d.a)(a,2),s=i[0],o=i[1],l=Object(r.useState)(0),j=Object(d.a)(l,2),b=j[0],f=j[1],h=Object(r.useState)(0),m=Object(d.a)(h,2),x=m[0],v=m[1],g=Object(r.useState)(),w=Object(d.a)(g,2),S=w[0],I=w[1],C=k().user;Object(r.useEffect)((function(){C&&Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e();case 2:(t=e.sent).success&&(c(t.data),t.data.meetings&&o(t.data.meetings.map((function(e){return{checked:!1,meeting:e}}))));case 4:case"end":return e.stop()}}),e)})))()}),[C]);var M=function(){var e=Object(p.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Je(s.filter((function(e){return e.checked})).map((function(e){return e.meeting.id})));case 4:(t=e.sent).success?I(t.data):ae.b.error(null===(n=t.error)||void 0===n?void 0:n.message);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n&&n.meetings&&0!==n.meetings.length?Object(y.jsxs)(u.a.Content,{className:"center",children:[Object(y.jsx)(fe.b,{header:Object(y.jsxs)("div",{style:{height:"32px"},children:[Object(y.jsx)("span",{style:{fontSize:20,marginRight:10},children:"\uacb0\uc7ac\ub300\uae30"}),"\uc804\uccb4 ",n.meetings.length,"\uac74"]}),bordered:!0,dataSource:s,footer:Object(y.jsxs)("div",{style:{height:40},children:[Object(y.jsxs)("span",{style:{fontSize:25,color:"#F08080",fontWeight:"bold"},children:[b,"\uc6d0"]}),Object(y.jsxs)(E.a,{type:"primary",size:"large",style:{float:"right"},disabled:x<=0||void 0!==S,onClick:M,children:["\ucd1d ",x,"\uac74 \uacb0\uc81c\ud558\uae30"]})]}),renderItem:function(e){var t,n,r;return Object(y.jsxs)(fe.b.Item,{children:[Object(y.jsx)(fe.b.Item.Meta,{avatar:Object(y.jsx)(E.a,{type:"text",disabled:void 0!==S,icon:e.checked?Object(y.jsx)(Ue.a,{style:{fontSize:"30px",color:"#F08080"}}):Object(y.jsx)(We.a,{style:{fontSize:"30px",color:"Gainsboro"}}),onClick:function(){return e.checked?(t=e.meeting,f(b-(t.priceKrw||0)),v(x-1),void o(null===s||void 0===s?void 0:s.map((function(e){return e.meeting.id!==t.id?e:{checked:!1,meeting:t}})))):function(e){f(b+(e.priceKrw||0)),v(x+1),o(null===s||void 0===s?void 0:s.map((function(t){return t.meeting.id!==e.id?t:{checked:!0,meeting:e}})))}(e.meeting);var t}}),title:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(A.a,{size:"small",src:null===(t=e.meeting.guest)||void 0===t?void 0:t.avatarUrl,style:{marginRight:5}}),(null===(n=e.meeting.host)||void 0===n?void 0:n.nickName)||(null===(r=e.meeting.host)||void 0===r?void 0:r.email)]}),description:e.meeting.profileTitle,style:{width:"50%"}}),Object(y.jsxs)("span",{className:"price",children:[e.meeting.priceKrw,"\uc6d0"]})]})},style:{marginBottom:"12px"}}),S&&Object(y.jsx)(ut,{preOrder:S})]}):Object(y.jsx)(y.Fragment,{})},dt=function(e){var t=e.meeting,n=W.a.unix(t.startAt),r=W.a.unix(t.startAt).add(t.duration,"seconds");return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("p",{children:t.profileTitle}),Object(y.jsxs)("p",{children:[n.format("YYYY-MM-DD")," ",Object(y.jsx)(he.a,{children:me(n.day())})," ","".concat(n.format("HH:mm")," ~ ").concat(r.format("HH:mm"))]}),Object(y.jsxs)("p",{children:[Object(y.jsx)(he.a,{color:"magenta",children:"\ud638\uc2a4\ud2b8"})," ",t.host?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(A.a,{size:"small",src:t.host.avatarUrl})," ",t.host.nickName]}):null]}),Object(y.jsxs)("p",{children:[Object(y.jsx)(he.a,{color:"cyan",children:"\uac8c\uc2a4\ud2b8"})," ",t.guest?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(A.a,{size:"small",src:t.guest.avatarUrl})," ",t.guest.nickName]}):null]})]})},jt=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(d.a)(a,2),s=i[0],l=i[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),f=b[0],h=b[1],m=Object(r.useState)(0),x=Object(d.a)(m,2),v=x[0],g=x[1],w=Object(r.useState)(!0),S=Object(d.a)(w,2),I=S[0],C=S[1],M=Object(r.useState)(!1),T=Object(d.a)(M,2),A=T[0],P=T[1],D=function(){var e=Object(r.useState)(Ne()),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){c(Ne())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),L=D.width,Y=D.height,N=k().user,R=Object(o.f)();Object(r.useEffect)((function(){N&&B()}),[N]);var B=function(){var e=Object(p.a)(O.a.mark((function e(){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),t=10,e.next=4,Re({userId:null===N||void 0===N?void 0:N.id,limit:t,offset:v});case 4:if((r=e.sent).success){e.next=8;break}return h(!1),e.abrupt("return");case 8:r.data&&r.data.items&&(c(n.concat(r.data.items)),l(r.data.total>v+t)),C(!1),h(!1),g(v+t);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){var t,n;return!!N&&((null===(t=e.host)||void 0===t?void 0:t.id)===N.id||(null===(n=e.guest)||void 0===n?void 0:n.id)===N.id)};return Object(y.jsxs)(u.a.Content,{className:"center",children:[L>700&&Object(y.jsx)("div",{style:{width:"400px",right:0,position:"fixed",marginTop:"10px",marginRight:"10px",zIndex:999},children:N&&Object(y.jsx)("div",{style:{height:Y-50,overflow:"auto"},children:Object(y.jsx)(lt,{})})}),Object(y.jsx)(fe.b,{loading:I,itemLayout:"vertical",split:!1,loadMore:I||f||!s?null:Object(y.jsx)("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:Object(y.jsx)(E.a,{type:"dashed",style:{width:"90%"},icon:Object(y.jsx)(V.a,{}),onClick:function(){c(n.concat(Object(F.a)(new Array(3)).map((function(e){return{loading:!0}})))),B(),window.dispatchEvent(new Event("resize"))},children:"\ub354\ubcf4\uae30"})}),size:"large",dataSource:n,footer:Object(y.jsx)("div",{}),renderItem:function(e){return Object(y.jsx)(fe.b.Item,{actions:[Object(y.jsx)(E.a,{onClick:function(){return function(e){N?H(e)?R.push("/meeting/".concat(e.id)):ae.b.warn("\uc785\uc7a5\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"):P(!0)}(e)},disabled:!H(e),children:"\uc785\uc7a5\ud558\uae30"},"go")],children:Object(y.jsx)(Ye.a,{avatar:!0,title:!1,loading:e.loading,active:!0,children:Object(y.jsx)(dt,{meeting:e})})},e.id)}}),L<=700&&N&&Object(y.jsx)(lt,{}),Object(y.jsx)(z.a,{title:"\uba3c\uc800 \ub85c\uadf8\uc778\uc744 \ud574 \uc8fc\uc138\uc694",visible:A,onCancel:function(){P(!1)},cancelButtonProps:{style:{display:"none"}},okButtonProps:{style:{display:"none"}},children:Object(y.jsx)(oe,{onSuccess:function(e){P(!1),e&&window.location.reload()}})})]})},bt=Object(r.createContext)(null),Ot=function(e){var t=e.children,n=Object(r.useState)({audio:!0,video:!0}),c=Object(d.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)({audioMuted:!1,videoMuted:!1}),o=Object(d.a)(s,2),u=o[0],l=o[1];return Object(y.jsx)(bt.Provider,{value:{constraints:a,initialValues:u,setConstraints:function(e){return i(e)},setInitialValues:function(e){return l(e)}},children:t})},pt=n(167),ft=n.n(pt),ht=n(168),mt=(n(381),n(412)),xt=n(413),vt=n(388),gt=n(414);function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wt(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function kt(e,t){var n=e.title,c=e.titleId,a=wt(e,["title","titleId"]);return r.createElement("svg",yt({t:1609690243193,className:"icon",viewBox:"0 0 1170 1024",xmlns:"http://www.w3.org/2000/svg","p-id":4245,width:200,height:200,ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,Qe||(Qe=r.createElement("path",{d:"M1019.12381 11.946667c17.65181 17.65181 15.311238 49.200762-4.534858 72.996571l-4.87619 5.36381-85.577143 85.528381c1.024 5.802667 1.755429 11.702857 2.096762 17.651809l0.243809 8.582095v52.565334l51.980191-36.327619a121.904762 121.904762 0 0 1 164.815238 23.30819l4.973714 6.631619a121.904762 121.904762 0 0 1 21.699048 60.562286l0.341333 9.362286v304.176761a121.904762 121.904762 0 0 1-183.929904 104.93562l-7.899429-5.071239L926.47619 685.83619v52.662858a146.285714 146.285714 0 0 1-137.703619 145.993142l-8.582095 0.24381H215.186286l-83.139048 83.236571c-24.234667 24.234667-59.343238 28.42819-78.360381 9.411048-17.700571-17.700571-15.36-49.249524 4.486095-73.045333l4.876191-5.36381 25.892571-25.892571A146.383238 146.383238 0 0 1 0.24381 747.032381L0 738.450286v-536.380953A146.285714 146.285714 0 0 1 137.703619 56.07619L146.285714 55.783619h633.904762c35.254857 0 67.584 12.483048 92.842667 33.255619L940.714667 21.308952C964.998095-2.925714 1000.106667-7.119238 1019.12381 11.946667z m-238.933334 141.409523H146.285714a48.761905 48.761905 0 0 0-48.420571 43.008L97.52381 202.069333v536.380953a48.761905 48.761905 0 0 0 43.056761 48.420571l5.705143 0.341333h28.525715L803.05981 159.012571A48.566857 48.566857 0 0 0 780.190476 153.307429z m48.761905 117.613715L312.710095 787.21219H780.190476a48.761905 48.761905 0 0 0 48.420572-43.056761l0.341333-5.705143V270.969905z m209.286095 25.063619l-3.85219 2.145524L926.47619 373.76v192.999619l107.910096 75.580952a24.380952 24.380952 0 0 0 6.680381 3.267048l3.608381 0.828952 3.705904 0.292572a24.380952 24.380952 0 0 0 23.990858-19.992381l0.390095-4.388572V318.171429a24.380952 24.380952 0 0 0-34.523429-22.137905zM280.380952 323.974095a60.952381 60.952381 0 1 1 0 121.904762 60.952381 60.952381 0 0 1 0-121.904762z","p-id":4246})))}var St,It=r.forwardRef(kt);n.p;function Ct(){return(Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mt(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Tt(e,t){var n=e.title,c=e.titleId,a=Mt(e,["title","titleId"]);return r.createElement("svg",Ct({t:1609688399299,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":875,width:200,height:200,ref:t,"aria-labelledby":c},a),n?r.createElement("title",{id:c},n):null,St||(St=r.createElement("path",{d:"M553.984 617.984l171.989333-160-171.989333-160 0 91.989333q-210.005333 29.994667-256 249.984 86.016-116.010667 256-116.010667l0 93.994667zM854.016 768l169.984 0 0 86.016-1024 0 0-86.016 169.984 0q-36.010667 0-59.989333-25.002667t-24.021333-61.013333l0-425.984q0-36.010667 24.021333-61.013333t59.989333-25.002667l683.989333 0q34.005333 0 59.008 25.002667t25.002667 61.013333l0 425.984q0 34.005333-25.002667 59.989333t-59.008 25.984z","p-id":876})))}var Et=r.forwardRef(Tt),At=(n.p,function(){var e=Object(r.useState)(),t=Object(d.a)(e,2),n=t[0],c=t[1],a=function(){var e=Object(r.useContext)(bt);if(!e)throw new Error("useVideoOption must be used within the VideoOptionProvider");return e}(),i=a.constraints,s=a.initialValues,o=a.setInitialValues,u=Object(r.useState)(s.videoMuted),l=Object(d.a)(u,2),j=l[0],b=l[1],f=Object(r.useState)(s.audioMuted),h=Object(d.a)(f,2),m=h[0],x=h[1];Object(r.useEffect)((function(){Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia(i);case 2:t=e.sent,m&&(x(!0),t.getAudioTracks()[0].enabled=!1),j&&(b(!0),t.getVideoTracks()[0].enabled=!1),c(t);case 6:case"end":return e.stop()}}),e)})))()}),[]);var v=function(){return null===n||void 0===n?void 0:n.getAudioTracks()[0]},g=function(){return null===n||void 0===n?void 0:n.getVideoTracks()[0]};return{stream:n,videoMuted:j,audioMuted:m,toggleMuteVideo:function(){if(n){o({audioMuted:m,videoMuted:!j}),b(!j);var e=g();e&&(e.enabled=j)}},toggleMuteAudio:function(){if(n){o({audioMuted:!m,videoMuted:j}),x(!m);var e=v();e&&(e.enabled=m)}}}}),zt=Object(r.forwardRef)((function(e,t){var n=e.videoMuted,r=e.audioMuted,c=e.nickName;return Object(y.jsxs)("div",{style:{position:"relative",textAlign:"center"},children:[Object(y.jsxs)(de.b,{style:{position:"absolute",color:"white",background:"grey",zIndex:2,paddingLeft:5,paddingRight:5},children:[r?Object(y.jsx)(mt.a,{}):Object(y.jsx)(xt.a,{}),n?Object(y.jsx)(vt.a,{component:It}):Object(y.jsx)(D.a,{}),c]}),Object(y.jsx)("video",{width:"100%",ref:t,autoPlay:!0,muted:!0})]})})),Pt={iceServers:[{urls:"stun:stun.l.google.com:19302"},{url:"turn:192.158.29.39:3478?transport=udp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"}]},Dt=function(e){var t=e.meeting,n=Object(o.f)(),c=k().user,a=Object(r.useRef)(),i=Object(r.useState)(!1),s=Object(d.a)(i,2),u=s[0],j=s[1],b=Object(r.useState)(),h=Object(d.a)(b,2),m=h[0],x=h[1],v=Object(r.useState)(),g=Object(d.a)(v,2),w=g[0],S=g[1],M=Object(r.useRef)(m),T=Object(r.useRef)(w),z=function(e){M.current=e,x(e)},P=function(e){T.current=e,S(e)},F=Object(r.useRef)(null),L=function(){var e=Object(r.useState)(),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(d.a)(a,2),s=i[0],o=i[1],u=function(){var e=Object(p.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=2;break}return e.abrupt("return");case 2:return o(!0),t=navigator.mediaDevices,e.next=6,t.getDisplayMedia({cursor:!0});case 6:return(n=e.sent).getVideoTracks()[0].onended=function(){l()},c(n),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){o(!1),null===n||void 0===n||n.getTracks().map((function(e){return e.stop()})),c(void 0)};return{stream:n,isLive:s,screenOn:u,screenOff:l}}(),Y=L.stream,N=L.isLive,R=L.screenOn,B=L.screenOff,H=At(),V=H.stream,U=H.videoMuted,W=H.audioMuted,_=H.toggleMuteVideo,q=H.toggleMuteAudio;Object(r.useEffect)((function(){var e=function(){var e;console.log("[unload]Close websocket"),null===(e=a.current)||void 0===e||e.close()};return window.addEventListener("beforeunload",e),function(){e(),window.removeEventListener("beforeunload",e)}}),[]),Object(r.useEffect)((function(){N&&Y?null===w||void 0===w||w.peerInstance.addStream(Y):!N&&Y&&(null===w||void 0===w||w.peerInstance.removeStream(Y))}),[N,Y]),Object(r.useEffect)((function(){V&&(F.current&&(F.current.srcObject=V),u||(J(),j(!0)))}),[V]);var J=function(){c&&(a.current=new WebSocket("".concat(f.WsAddr,"/ws?userId=").concat(c.id,"&meetingId=").concat(t.id)),a.current.onmessage=function(e){var t=JSON.parse(e.data);switch(console.log("[Received]",t),t.event){case"join":if(c.id===t.from.userId)break;G(t.from.userId,!1),K({event:"peerAdded",data:{peerId:t.from.userId}});break;case"peerAdded":G(t.from.userId,!0);break;case"leave":Z();break;case"disconnect":Z(),n.goBack();break;case"signal":var r,a;if(t.data.isScreen)null===(r=T.current)||void 0===r||r.peerInstance.signal(t.data.signal);else null===(a=M.current)||void 0===a||a.peerInstance.signal(t.data.signal);break;case"chat":Object(ht.addResponseMessage)(t.data.message);break;default:console.error("Unrecognized message",t)}})},K=function(e){var t=JSON.stringify(e);a.current&&a.current.send(t),console.log("[Send]",e.event,e.data)},G=function(e,t){console.log("[addPeer]",e,t);var n={userId:e,isScreen:!1,peerInstance:new ft.a({initiator:t,stream:V,config:Pt}),ref:Object(r.createRef)()},c={userId:e,isScreen:!0,peerInstance:new ft.a({initiator:t,config:Pt}),muted:!0,ref:Object(r.createRef)()};z(n),P(c),n.peerInstance.on("signal",(function(t){t.renegotiate||t.transceiverRequest||K({event:"signal",data:{signal:t,peerId:e,isScreen:!1}})})),c.peerInstance.on("signal",(function(t){t.renegotiate||t.transceiverRequest||K({event:"signal",data:{signal:t,peerId:e,isScreen:!0}})})),n.peerInstance.on("stream",(function(e){n.ref.current&&(n.ref.current.srcObject=e),e.getTracks().forEach((function(e){e.onmute=function(e){console.log("video onmute")},e.onunmute=function(e){console.log("video onunmute")},e.onended=function(e){console.log("video onended")}}))})),T.current.peerInstance.on("stream",(function(e){c.ref.current&&(c.ref.current.srcObject=e),e.getTracks().forEach((function(e){e.onmute=function(e){T.current&&P(Object(l.a)(Object(l.a)({},T.current),{},{muted:!0}))},e.onunmute=function(e){T.current&&P(Object(l.a)(Object(l.a)({},T.current),{},{muted:!1}))},e.onended=function(e){T.current&&P(Object(l.a)(Object(l.a)({},T.current),{},{muted:!0}))}}))}))},Z=function(){w&&w.peerInstance.destroy(),m&&m.peerInstance.destroy(),P(void 0),z(void 0)},Q=function(){var e;return(null===c||void 0===c?void 0:c.id)===(null===(e=t.guest)||void 0===e?void 0:e.id)?t.host:t.guest},X=function(){return w&&!w.muted},$=X()?{span:18}:{span:0},ee=X()?{span:6}:{span:24},te=X()?{span:24}:{span:12};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(I.a,{gutter:8,children:[Object(y.jsx)(C.a,Object(l.a)(Object(l.a)({},$),{},{children:w&&Object(y.jsx)("div",{className:"screen",style:{display:w.muted?"none":""},children:Object(y.jsx)(zt,{ref:w.ref})})})),Object(y.jsx)(C.a,Object(l.a)(Object(l.a)({},ee),{},{children:Object(y.jsxs)(I.a,{gutter:8,children:[Object(y.jsx)(C.a,Object(l.a)(Object(l.a)({},te),{},{children:Object(y.jsx)("div",{className:"face",children:Object(y.jsx)(zt,{ref:F,videoMuted:U,audioMuted:W,nickName:(null===c||void 0===c?void 0:c.nickName)+" (You)"+(N?"  \ud654\uba74\uacf5\uc720\uc911...":"")})})})),Object(y.jsx)(C.a,Object(l.a)(Object(l.a)({},te),{},{children:m&&Object(y.jsx)("div",{className:"face",children:Object(y.jsx)(zt,{ref:m.ref,nickName:Q().nickName})})}))]})}))]}),Object(y.jsx)("div",{style:{top:"0",position:"fixed",width:"100%",paddingTop:6,paddingBottom:3,paddingLeft:30,background:"white"},children:Object(y.jsxs)(I.a,{children:[Object(y.jsx)(C.a,{span:8,children:Object(y.jsx)("span",{style:{fontSize:25},children:t.profileTitle})}),Object(y.jsx)(C.a,{span:8,children:Object(y.jsxs)("div",{style:{textAlign:"center"},children:[Object(y.jsxs)(E.a,{type:"text",onClick:q,icon:W?Object(y.jsx)(mt.a,{}):Object(y.jsx)(xt.a,{}),children:["\uc18c\ub9ac ",W?"\ucf1c\uae30":"\ub044\uae30"]}),"\xa0\xa0",Object(y.jsxs)(E.a,{type:"text",onClick:_,icon:U?Object(y.jsx)(vt.a,{component:It}):Object(y.jsx)(D.a,{}),children:["\uce74\uba54\ub77c ",U?"\ucf1c\uae30":"\ub044\uae30"]}),"\xa0\xa0",Object(y.jsxs)(E.a,{type:"text",icon:N?Object(y.jsx)(gt.a,{}):Object(y.jsx)(vt.a,{component:Et}),onClick:function(){return N?B():R()},children:["\ud654\uba74 ",N?"\uacf5\uc720 \ub044\uae30":"\uacf5\uc720"]})]})}),Object(y.jsx)(C.a,{span:8,children:Object(y.jsx)(E.a,{danger:!0,type:"primary",style:{float:"right",marginRight:"40px",marginTop:"2px"},onClick:function(){return n.push("/meeting")},children:"\ub300\ud654 \uc885\ub8cc"})})]})}),Object(y.jsx)(ht.Widget,{handleNewUserMessage:function(e){K({event:"chat",data:{message:e}})},profileAvatar:Q().avatarUrl,title:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(A.a,{src:Q().avatarUrl})," ",Q().nickName," ",Object(y.jsx)(be.a.Text,{type:"secondary",children:Object(y.jsx)("small",{children:"\ub2d8\uc5d0\uac8c \uba54\uc138\uc9c0 \ubcf4\ub0b4\uae30"})})]}),subtitle:""})]})},Ft=n(415),Lt="250px",Yt="187px",Nt=function(){var e=Object(r.useRef)(null),t=At(),n=t.stream,c=t.videoMuted,a=t.audioMuted,i=t.toggleMuteVideo,s=t.toggleMuteAudio;return Object(r.useEffect)((function(){e.current&&n&&(e.current.srcObject=n)}),[n]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{style:{width:Lt,height:Yt,position:"relative"},children:[c&&Object(y.jsx)(Ft.a,{style:{fontSize:"50px",color:"white",position:"absolute",lineHeight:Yt,textAlign:"center",top:0,bottom:0,left:0,right:0}}),Object(y.jsx)("video",{ref:e,autoPlay:!0,muted:!0,width:Lt,height:Yt})]}),Object(y.jsx)("br",{}),Object(y.jsxs)(E.a,{size:"large",onClick:s,icon:a?Object(y.jsx)(mt.a,{}):Object(y.jsx)(xt.a,{}),children:["\uc18c\ub9ac ",a?"\ucf1c\uae30":"\ub044\uae30"]},"audio"),Object(y.jsxs)(E.a,{onClick:i,size:"large",icon:c?Object(y.jsx)(vt.a,{component:It}):Object(y.jsx)(D.a,{}),style:{float:"right"},children:["\uce74\uba54\ub77c ",c?"\ucf1c\uae30":"\ub044\uae30"]},"video")]})},Rt=function(e){var t=e.meeting,n=Object(r.useState)(!0),c=Object(d.a)(n,2),a=c[0],i=c[1],s=Object(o.f)();return Object(y.jsxs)(Ot,{children:[!a&&Object(y.jsx)(Dt,{meeting:t}),Object(y.jsx)(z.a,{visible:a,width:300,onOk:function(){return i(!1)},onCancel:function(){return s.push("/meeting")},okText:"\uc785\uc7a5\ud558\uae30",cancelText:"\ucde8\uc18c",closable:!1,children:Object(y.jsx)(Nt,{})})]})},Bt=function(){var e=Object(r.useState)({}),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(o.h)().id;k().user;return Object(r.useEffect)((function(){Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(a);case 2:(t=e.sent).success&&c(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]),n.id?Object(y.jsx)(u.a.Content,{children:Object(y.jsx)(Rt,{meeting:n})}):null},Ht=function(){return Object(y.jsx)(u.a.Content,{className:"center",children:Object(y.jsx)(lt,{})})},Vt=(n(382),function(){return Object(y.jsx)(u.a,{style:{background:"white"},children:Object(y.jsx)(S,{children:Object(y.jsxs)(s.a,{children:[Object(y.jsx)("header",{children:Object(y.jsx)(le,{})}),Object(y.jsx)("div",{className:"body",children:Object(y.jsx)(r.Suspense,{fallback:null,children:Object(y.jsxs)(o.c,{children:[Object(y.jsx)(o.a,{exact:!0,path:"/",component:ye}),Object(y.jsx)(o.a,{exact:!0,path:"/profile/:id",component:Le}),Object(y.jsx)(o.a,{exact:!0,path:"/meeting",component:jt}),Object(y.jsx)(o.a,{exact:!0,path:"/meeting/:id",component:Bt}),Object(y.jsx)(o.a,{exact:!0,path:"/mine",component:Ht})]})})})]})})})}),Ut=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,416)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(y.jsx)(Vt,{}),document.getElementById("root")),Ut()}},[[383,1,2]]]);
//# sourceMappingURL=main.4a8f3c10.chunk.js.map